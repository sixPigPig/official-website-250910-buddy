# ğŸš€ è…¾è®¯äº‘éƒ¨ç½²æŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å°† TechApp å®˜ç½‘éƒ¨ç½²åˆ°è…¾è®¯äº‘ä¸Šã€‚æˆ‘ä»¬æä¾›äº†å¤šç§éƒ¨ç½²æ–¹æ¡ˆï¼Œæ¨èä½¿ç”¨è½»é‡åº”ç”¨æœåŠ¡å™¨ã€‚

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### 1. ç¯å¢ƒè¦æ±‚
- è…¾è®¯äº‘è´¦å·
- æœ¬åœ°å®‰è£… Docker
- åŸºæœ¬çš„ Linux å‘½ä»¤è¡ŒçŸ¥è¯†

### 2. é¡¹ç›®æ–‡ä»¶æ£€æŸ¥
ç¡®ä¿ä»¥ä¸‹æ–‡ä»¶å·²åˆ›å»ºï¼š
- âœ… `Dockerfile` - Docker é•œåƒæ„å»ºæ–‡ä»¶
- âœ… `.dockerignore` - Docker å¿½ç•¥æ–‡ä»¶
- âœ… `next.config.js` - Next.js é…ç½®
- âœ… `tencent-cloud-deploy.yml` - Docker Compose é…ç½®
- âœ… `nginx.conf` - Nginx åå‘ä»£ç†é…ç½®
- âœ… `deploy.sh` - éƒ¨ç½²è„šæœ¬

## ğŸ¯ æ¨èæ–¹æ¡ˆï¼šè…¾è®¯äº‘è½»é‡åº”ç”¨æœåŠ¡å™¨

### æ­¥éª¤ 1ï¼šåˆ›å»ºè½»é‡åº”ç”¨æœåŠ¡å™¨

1. ç™»å½• [è…¾è®¯äº‘æ§åˆ¶å°](https://console.cloud.tencent.com/)
2. è¿›å…¥ **è½»é‡åº”ç”¨æœåŠ¡å™¨** äº§å“é¡µ
3. ç‚¹å‡» **æ–°å»ºå®ä¾‹**
4. é€‰æ‹©é…ç½®ï¼š
   - **åœ°åŸŸ**ï¼šé€‰æ‹©ç¦»ç”¨æˆ·æœ€è¿‘çš„åœ°åŸŸï¼ˆå¦‚åŒ—äº¬ã€ä¸Šæµ·ã€å¹¿å·ï¼‰
   - **é•œåƒ**ï¼šé€‰æ‹© `Ubuntu 20.04 LTS` æˆ– `CentOS 8.2`
   - **å®ä¾‹å¥—é¤**ï¼šæ¨è `2æ ¸4GB` æˆ–æ›´é«˜é…ç½®
   - **è´­ä¹°æ—¶é•¿**ï¼šæ ¹æ®éœ€è¦é€‰æ‹©

### æ­¥éª¤ 2ï¼šé…ç½®æœåŠ¡å™¨ç¯å¢ƒ

è¿æ¥åˆ°æœåŠ¡å™¨åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# æ›´æ–°ç³»ç»Ÿ
sudo apt update && sudo apt upgrade -y

# å®‰è£… Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# å®‰è£… Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/download/v2.20.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

# å¯åŠ¨ Docker æœåŠ¡
sudo systemctl start docker
sudo systemctl enable docker

# å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ° docker ç»„
sudo usermod -aG docker $USER
```

### æ­¥éª¤ 3ï¼šä¸Šä¼ é¡¹ç›®æ–‡ä»¶

æœ‰å¤šç§æ–¹å¼ä¸Šä¼ é¡¹ç›®ï¼š

#### æ–¹å¼ Aï¼šä½¿ç”¨ Gitï¼ˆæ¨èï¼‰
```bash
# å¦‚æœé¡¹ç›®å·²æ¨é€åˆ° Git ä»“åº“
git clone https://github.com/your-username/techapp-website.git
cd techapp-website
```

#### æ–¹å¼ Bï¼šä½¿ç”¨ SCP ä¸Šä¼ 
```bash
# åœ¨æœ¬åœ°æ‰§è¡Œï¼Œå°†é¡¹ç›®æ‰“åŒ…ä¸Šä¼ 
tar -czf techapp-website.tar.gz .
scp techapp-website.tar.gz lighthouse@your-server-ip:~/
```

### æ­¥éª¤ 4ï¼šæ„å»ºå’Œéƒ¨ç½²

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd techapp-website

# ç»™éƒ¨ç½²è„šæœ¬æ‰§è¡Œæƒé™
chmod +x deploy.sh

# æ„å»º Docker é•œåƒ
docker build -t techapp-website:latest .

# ä½¿ç”¨ Docker Compose å¯åŠ¨æœåŠ¡
docker-compose -f tencent-cloud-deploy.yml up -d
```

### æ­¥éª¤ 5ï¼šé…ç½®é˜²ç«å¢™

åœ¨è…¾è®¯äº‘æ§åˆ¶å°ä¸­ï¼š
1. è¿›å…¥è½»é‡åº”ç”¨æœåŠ¡å™¨å®ä¾‹è¯¦æƒ…
2. ç‚¹å‡» **é˜²ç«å¢™** æ ‡ç­¾
3. æ·»åŠ è§„åˆ™ï¼š
   - **åº”ç”¨ç±»å‹**ï¼šHTTP(80)
   - **ç«¯å£**ï¼š80
   - **æ¥æº**ï¼š0.0.0.0/0

### æ­¥éª¤ 6ï¼šè®¿é—®ç½‘ç«™

åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š`http://your-server-ip`

## ğŸŒŸ é«˜çº§é…ç½®

### 1. é…ç½®åŸŸåå’Œ SSL

#### è´­ä¹°åŸŸå
1. åœ¨è…¾è®¯äº‘è´­ä¹°åŸŸå
2. åœ¨ DNS è§£æä¸­æ·»åŠ  A è®°å½•ï¼ŒæŒ‡å‘æœåŠ¡å™¨ IP

#### é…ç½® SSL è¯ä¹¦
```bash
# å®‰è£… Certbot
sudo apt install certbot python3-certbot-nginx

# ç”³è¯·å…è´¹ SSL è¯ä¹¦
sudo certbot --nginx -d your-domain.com

# è‡ªåŠ¨ç»­æœŸ
sudo crontab -e
# æ·»åŠ ä»¥ä¸‹è¡Œï¼š
# 0 12 * * * /usr/bin/certbot renew --quiet
```

### 2. æ€§èƒ½ä¼˜åŒ–

#### å¯ç”¨ CDN
1. åœ¨è…¾è®¯äº‘æ§åˆ¶å°å¼€é€š CDN æœåŠ¡
2. æ·»åŠ åŠ é€ŸåŸŸå
3. é…ç½®æºç«™ä¸ºæœåŠ¡å™¨ IP

#### æ•°æ®åº“ä¼˜åŒ–ï¼ˆå¦‚éœ€è¦ï¼‰
```bash
# å¦‚æœéœ€è¦æ•°æ®åº“ï¼Œå¯ä»¥ä½¿ç”¨è…¾è®¯äº‘æ•°æ®åº“
# åœ¨ docker-compose ä¸­æ·»åŠ æ•°æ®åº“æœåŠ¡
```

### 3. ç›‘æ§å’Œæ—¥å¿—

```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker-compose -f tencent-cloud-deploy.yml ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose -f tencent-cloud-deploy.yml logs -f

# æŸ¥çœ‹èµ„æºä½¿ç”¨æƒ…å†µ
docker stats
```

## ğŸ”§ å…¶ä»–éƒ¨ç½²æ–¹æ¡ˆ

### æ–¹æ¡ˆ 2ï¼šè…¾è®¯äº‘å®¹å™¨æœåŠ¡ TKE

é€‚åˆå¤§è§„æ¨¡åº”ç”¨å’Œéœ€è¦è‡ªåŠ¨æ‰©ç¼©å®¹çš„åœºæ™¯ã€‚

1. åˆ›å»º TKE é›†ç¾¤
2. æ¨é€é•œåƒåˆ°è…¾è®¯äº‘å®¹å™¨é•œåƒæœåŠ¡ TCR
3. åˆ›å»º Kubernetes éƒ¨ç½²æ–‡ä»¶
4. éƒ¨ç½²åˆ° TKE é›†ç¾¤

### æ–¹æ¡ˆ 3ï¼šè…¾è®¯äº‘ Serverless

é€‚åˆæµé‡ä¸ç¨³å®šçš„åº”ç”¨ï¼ŒæŒ‰éœ€ä»˜è´¹ã€‚

1. ä½¿ç”¨è…¾è®¯äº‘äº‘å‡½æ•° SCF
2. é…ç½® API ç½‘å…³
3. ä¸Šä¼ ä»£ç åŒ…

## ğŸš¨ å¸¸è§é—®é¢˜

### Q1: Docker æ„å»ºå¤±è´¥
```bash
# æ£€æŸ¥ Docker ç‰ˆæœ¬
docker --version

# æ¸…ç† Docker ç¼“å­˜
docker system prune -a
```

### Q2: ç«¯å£è®¿é—®ä¸äº†
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
- ç¡®è®¤å®¹å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œ
- æ£€æŸ¥ç«¯å£æ˜ å°„é…ç½®

### Q3: å†…å­˜ä¸è¶³
- å‡çº§æœåŠ¡å™¨é…ç½®
- ä¼˜åŒ– Docker é•œåƒå¤§å°
- ä½¿ç”¨å¤šé˜¶æ®µæ„å»º

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœåœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹é¡¹ç›® Issues
2. è”ç³»æŠ€æœ¯æ”¯æŒå›¢é˜Ÿ
3. å‚è€ƒè…¾è®¯äº‘å®˜æ–¹æ–‡æ¡£

---

ğŸ‰ **æ­å–œï¼æ‚¨çš„ TechApp å®˜ç½‘å·²æˆåŠŸéƒ¨ç½²åˆ°è…¾è®¯äº‘ï¼**

è®¿é—®åœ°å€ï¼š`http://your-domain.com` æˆ– `http://your-server-ip`